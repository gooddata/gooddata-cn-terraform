###
# AWS account & region
###
aws_profile_name = "my-profile" # matches a profile in ~/.aws/config
aws_region       = "eu-central-1"
# aws_additional_tags = {
#   Environment = "dev"
# }

###
# Deployment configuration
###
helm_gdcn_version  = "3.50.0" # use latest version here: https://www.gooddata.com/docs/cloud-native/latest/whats-new-cn/
gdcn_replica_count = 1
deployment_name    = "gooddata-cn-poc"

# Size profile controls replicas/resources across services:
# - dev: lowest footprint, not HA
# - prod-small: HA (>= 2 replica per service), resources for services increased
# NOTE: switching size profile after deploying isn't supported since persistent
# volume sizes can't be automatically adjusted in-place.
size_profile = "prod-small"

# Deploys and enables GoodData generative AI services
# enable_ai_features = true

# Configure one or more GoodData.CN organizations to be managed by Terraform.
# - If gdcn_orgs is empty, Terraform will not create any Organization objects.
# - Each org must include id, name, admin_user, and admin_group.
# - Hostnames are always derived as: <id>.<base_domain>
#
# gdcn_orgs = [
#   {
#     id          = "org"
#     name        = "Test, Inc."
#     admin_user  = "admin"
#     admin_group = "adminGroup"
#   },
#   {
#     id          = "demo"
#     name        = "Demo, Inc."
#     admin_user  = "admin"
#     admin_group = "adminGroup"
#   },
# ]

###
# GoodData.CN license
###
gdcn_license_key = "key/asdf==" # provided by GoodData

###
# Ingress and DNS (choose one configuration)
###
# -- Option A: ingress-nginx (default)
#   - Deploys ingress-nginx + cert-manager.
#   - Uses letsencrypt_email for Let's Encrypt TLS issuance.
#   - Builds hostnames using wildcard_dns_provider (e.g., sslip.io, nip.io).
ingress_controller    = "ingress-nginx"
letsencrypt_email     = "me@example.com"
wildcard_dns_provider = "sslip.io"

# base_domain override (uncomment when you own DNS and want a fixed hostname)
# base_domain = "gooddata-cn.example.com"

# -- Option B: AWS ALB + Route53 (commented out)
#   - Requires helm_gdcn_version >= 3.51.0.
#   - Deploys AWS Load Balancer Controller, ExternalDNS, and an ACM wildcard cert.
#   - Needs a Route53 hosted zone. Terraform publishes auth/org records automatically.
# ingress_controller = "alb"
# route53_zone_id    = "Z0123456789ABC"
# base_domain        = "gooddata-cn.example.com"

###
# Container cache
###
# enable_image_cache     = true
# dockerhub_username     = "myusername"
# dockerhub_access_token = "myaccesstoken"

###
# EKS & infrastructure sizing
###
# eks_version                      = "1.33"
# eks_node_types                   = ["m6i.xlarge"]
# eks_max_nodes                    = 10
# eks_endpoint_public_access       = true
# eks_endpoint_public_access_cidrs = ["x.x.x.x/32"]
# eks_endpoint_private_access      = false

# rds_instance_class      = "db.t4g.medium"
# rds_deletion_protection = false # set this for easy teardown
# rds_skip_final_snapshot = true  # set this for faster teardown
